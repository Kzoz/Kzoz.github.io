{% extends "base.html" %}
{% block title %}Nouvel Enregistrement{% endblock %} 
{% block navigator%} 
<li class="nav-item">
    <a class="nav-link active" href="patients/1">Liste des patients
    </a>
  </li>
{% endblock %}
{% block content %}
<style>
    .mainpage{
     display: grid;   
     background-image: linear-gradient(to bottom right, rgb(227, 227, 227),rgb(255,255,255));
     padding: 1rem;
    }
    .panel{
        padding: 1rem;
        margin: 1rem; 
        box-shadow: 0px 0px 10px 0.1px #cddeef;
        background-color: white;
    }
    h2 {
        text-align: center;
    }
    hr{
        margin-top: 2rem;
        margin-bottom: 2rem;
        color: rgb(135, 130, 130);
    }
    .row{
        margin-top: 1rem;
        margin-bottom: 1rem;
    }
    .row#submitBtn{
        place-content: center;
    }
    
</style>

<div class="mainpage">
    <div class="panel">
        <h2> Nouveau Patient</h2>
        <form method="POST" class="was-validated"> 
            <div class="row" id="patient-bio">
                <div class="col-sm-3">
                    <div class="form-floating">
                        <input type="text" class="form-control" name="surname" id="surname" onkeydown="return /[a-z]/i.test(event.key)"
                        placeholder="Prénom(s)" required minlength="2">
                        <label for="surname">Prénom(s)</label>
                        <div class="valid-feedback"></div>
                        <div class="invalid-feedback">Cette étape est obligatoire.</div>
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="form-floating">
                        <input type="text" class="form-control" name="familyName" id="familyName" onkeydown="return /[a-z]/i.test(event.key)"
                        placeholder="Nom de Famille" required minlength="2">
                        <label for="familyName">Nom de famille</label>
                        <div class="valid-feedback"></div>
                        <div class="invalid-feedback">Cette étape est obligatoire.</div>
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="form-floating">
                        <input type="date" class="form-control" name="birthday" id="birthday" 
                        placeholder="Date de naissance" required>
                        <label for="birthday">Date de naissance</label>
                        <div class="valid-feedback"></div>
                        <div class="invalid-feedback">Cette étape est obligatoire.</div>
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="form-floating">
                        <input type="text" class="form-control" name="birthplace" id="birthplace" placeholder="Lieu de naissance">
                        <label for="birthplace">Lieu de naissance</label>
                    </div>
                </div>
            </div>
            <div class="row" id="patient-contact">
                <div class="col-sm-4">
                    <div class="form-floating">
                        <input type="number" class="form-control" name="num" id="num" placeholder="77-612-34-56" required>
                        <label for="num"> Numéro de téléphone</label>
                        <div class="valid-feedback"></div>
                        <div class="invalid-feedback">Cette étape est obligatoire.</div>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-floating">
                        <input type="number" class="form-control" name="emergency" id="emergency" placeholder="76-598-76-54">
                        <label for="emergency">Contact d'urgence</label>
                    </div>
                </div>  
                <div class="col-sm-4">
                    <div class="form-floating">
                        <input type="email" class="form-control" name="email" id="email" placeholder="abc@gmail.com">
                        <label for="email">Adresse Email</label>
                    </div>
                </div>
            </div>
            <hr>
            <div class="row" id="patient-health">
                <div class="col-md-4">
                    <div class="health-info">
                        <div class="form-floating">
                            <select class="form-select form-select-lg mb-3" name="bloodtype" id="bloodtype">
                                <option value="O+">O+</option>
                                <option value="O-">O-</option>
                                <option value="A+">A+</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B-">B-</option>
                                <option value="AB">AB</option>
                            </select>
                            <label for="bloodtype">Groupe sanguin</label>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <label class="radio-inline control-label">Sexe</label>
                    <br>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="sex" id="female" value="Femme" checked>
                        <label class="form-check-label" for="female">
                        Femme
                        </label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="sex" id="male" value="Homme">
                        <label class="form-check-label" for="male">
                        Homme
                        </label>
                    </div>
                    
                </div>
                <div class="col-md-4">
                    <div class="form-floating">
                        <textarea class="form-control" placeholder="Allergies" id="allergy" name="allergy"></textarea>
                        <label for="floatingTextarea">Allergie à: </label>
                    </div>
                </div>
            </div>
            <div class="row" id="patient-condition">
                <div class="col-sm-12">
                    <div class="form-floating">
                        <textarea class="form-control" placeholder="Conditions médicales" id="sickness" name="sickness"></textarea>
                        <label for="floatingTextarea">Condition médicale du patient (ex: Diabète..)</label>
                    </div>
                </div>
            </div>
            <hr>
            <div class="row" id="patient-memo">
                <div class="col-md-12">   
                    <div class="form-floating">
                        <textarea class="form-control" placeholder="Notes" id="memo" name="memo" style="height: 100px"></textarea>
                        <label for="floatingTextarea2">Notes concernant le patient</label>
                    </div>                 
                </div>

            </div>
            <div class="row" id="submitBtn">
                <div class="col-sm-2">
                    <button type="submit" class="btn btn-primary btn-lg">Ajouter</button>
                </div>
                <div class="col-sm-2">
                    <button type="button" class="btn btn-secondary btn-lg" onclick="window.location.href='/'">Annuler</button>
                </div>

            </div>
            
    </form>
    </div>

</div>
{%endblock%}